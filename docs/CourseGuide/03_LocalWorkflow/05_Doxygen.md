\defgroup CG_LocalWorkflow_05_Doxygen Documentation Generation
\ingroup CG_03_LocalWorkflow
# Documentation with Doxygen

Part of the Local Workflow System

## Introduction

Doxygen is used to generate navigable documentation from:

-   Special comments inside the code (`///`, `/** ... */`)
-   `.dox` files that define high‑level pages and groups

Goals:

-   Instructors can provide explanations and guides inside the
    repository\
-   Students get clear API reference and module structure

------------------------------------------------------------------------

## Doxyfile Configuration

The main configuration file is located at:

    docs/Doxyfile

Typical parameters:

-   `INPUT` --- which folders Doxygen will scan\
-   `OUTPUT_DIRECTORY` --- where documentation will be generated\
-   `PROJECT_NAME`, `PROJECT_BRIEF`, etc.

Example:

    OUTPUT_DIRECTORY = site/docs

    INPUT = \
      docs/mainpage.dox \
      docs/03_LocalWorkflow \
      course/include \
      course/src \
      student/include \
      student/src

This produces:

    site/docs/html/index.html

------------------------------------------------------------------------

## Generating Documentation via Scripts

### Linux/macOS

Run:

``` sh
./scripts/update_docs.sh
```

Example script:

``` sh
#!/usr/bin/env bash
set -e

echo "▶ Running Doxygen..."
doxygen docs/Doxyfile
echo "✔ Doxygen documentation generated"
```

### Windows (PowerShell)

``` ps1
# scripts/update_docs.ps1
$ErrorActionPreference = "Stop"

$Doxyfile = "docs/Doxyfile"

Write-Host "▶ Running Doxygen..."

if (-not (Test-Path $Doxyfile)) {
    Write-Error "Doxyfile not found at $Doxyfile"
    exit 1
}

doxygen $Doxyfile
Write-Host "✔ Doxygen documentation generated."
```

------------------------------------------------------------------------

## Main Page and Documentation Groups

Typically, `docs/mainpage.dox` defines:

-   The main documentation page (`@mainpage`)
-   The thematic groups (e.g., Local Workflow)

Example:

``` cpp
/**
 * @mainpage C++ Course Template
 * @brief General course documentation.
 *
 * - @ref LocalWorkflow "Local Workflow"
 * - Other course topics...
 */
```

------------------------------------------------------------------------

## Writing New Documentation

There are two ways to write documentation:

### 1. Doxygen Comments Inside Code

``` cpp
/// @brief Adds two integers.
int Add(int a, int b);
```

### 2. `.dox` Files

``` cpp
/**
 * @page MyExtraPage Example Extra Page
 * @brief Short description.
 *
 * Additional explanation...
 */
```

After editing documentation:

``` sh
./scripts/update_docs.sh
```

------------------------------------------------------------------------

## Integrating Everything Into a Single Site

You can combine:

-   Doxygen HTML: `site/docs/html`
-   Coverage Report: `site/coverage`
-   Test Reports: `site/tests`

Example `site/index.html`:

``` html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>C++ Course</title>
</head>
<body>
  <h1>C++ Course</h1>
  <ul>
    <li><a href="coverage/index.html">Code Coverage</a></li>
    <li><a href="tests/index.html">Test Reports</a></li>
    <li><a href="docs/html/index.html">Doxygen Documentation</a></li>
  </ul>
</body>
</html>
```

This file can be generated by a `full_ci.sh`‑style script that updates:

-   Compilation\
-   Testing\
-   Coverage\
-   Doxygen\
-   Main Index Page

------------------------------------------------------------------------
